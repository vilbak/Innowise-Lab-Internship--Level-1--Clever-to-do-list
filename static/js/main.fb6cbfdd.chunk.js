(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{189:function(t,e){},243:function(t,e,n){},262:function(t,e,n){},327:function(t,e,n){},328:function(t,e,n){},329:function(t,e,n){},331:function(t,e,n){},332:function(t,e,n){},333:function(t,e,n){},334:function(t,e,n){},335:function(t,e,n){},336:function(t,e,n){},337:function(t,e,n){"use strict";n.r(e);var a=n(2),r=(n(177),n(29)),c=n.n(r),o=n(17),i=n(35),s=n(50),u=n(171),d=n(16),l=n(77);l.a.initializeApp({apiKey:"AIzaSyDyKnvtdUTNuZV6ZXTWWyZV0wKS0dSAlJU",authDomain:"innowise-e98e9.firebaseapp.com",databaseURL:"https://innowise-e98e9-default-rtdb.firebaseio.com",projectId:"innowise-e98e9",storageBucket:"innowise-e98e9.appspot.com",messagingSenderId:"85270176781",appId:"1:85270176781:web:995945ee59dd33c5ca2144",measurementId:"G-SMJP9VS173"});var j=l.a.database(),b=(n(243),n(41)),O=n.n(b),f=n(59),h=n(22),p=n(49),x=(n(116),n(173)),v=n.n(x),m=function(t,e,n){return function(a){a({type:"AUTH_START"});var r={email:t,password:e,returnSecureToken:!0},c="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDyKnvtdUTNuZV6ZXTWWyZV0wKS0dSAlJU";n&&(c="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDyKnvtdUTNuZV6ZXTWWyZV0wKS0dSAlJU"),v.a.post(c,r).then((function(t){var e,n;a((e=t.data.idToken,n=t.data.localId,function(t){t({type:"AUTH_SUCCESS",idToken:e,userId:n}),p.b.success("Logged in")})),a(g(t.data.expiresIn))})).catch((function(t){var e;a((e=t.response.data.error,function(t){t({type:"AUTH_FAIL",error:e}),p.b.error(e.message)}))}))}},g=function(t){return function(e){setTimeout((function(){e({type:"AUTH_LOGOUT"})}),1e3*t)}},N=(n(262),n(3)),S=Object(o.b)((function(t){return{auth:t.auth.authenticated,loading:t.auth.loading,error:t.auth.error}}),(function(t){return{onAuth:function(e,n,a){return t(m(e,n,a))}}}))((function(t){var e=Object(a.useState)(""),n=Object(h.a)(e,2),r=n[0],c=n[1],o=Object(a.useState)(""),s=Object(h.a)(o,2),u=s[0],l=s[1],j=function(){var e=Object(f.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),e.next=4,t.onAuth(r,u,true);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),b=null;return t.auth&&(b=Object(N.jsx)(d.a,{to:"/main"})),Object(N.jsx)("section",{className:"wrapper",children:Object(N.jsxs)("div",{className:"container",children:[b,Object(N.jsx)(p.a,{autoClose:2e3}),Object(N.jsxs)("div",{className:"registerForm",children:[Object(N.jsx)("span",{className:"title",children:"Login Page"}),Object(N.jsx)("input",{className:"input",onChange:function(t){return c(t.target.value)},value:r,type:"text",placeholder:"E-mail"}),Object(N.jsx)("input",{className:"input",onChange:function(t){return l(t.target.value)},value:u,type:"password",placeholder:"Password"}),Object(N.jsx)("button",{onClick:j,className:"btnR",children:"Sign in"}),Object(N.jsx)(i.b,{className:"link",to:"/register",children:"Switch to Register"})]})]})})})),T=n(76),A=(n(327),Object(o.b)((function(t){return{filter:t.filter}}),(function(t){return{onStartDate:function(e){return t(function(t){return{type:"SET_START_DATE",startDate:t}}(e))},onEndDate:function(e){return t(function(t){return{type:"SET_END_DATE",endDate:t}}(e))}}}))((function(t){var e=Object(a.useState)(null),n=Object(h.a)(e,2),r=n[0],c=n[1];return Object(N.jsx)("div",{className:"maxWidth",children:Object(N.jsx)(T.DateRangePicker,{startDate:t.filter.startDate,endDate:t.filter.endDate,onDatesChange:function(e){var n=e.startDate,a=e.endDate;t.onStartDate(n),t.onEndDate(a)},focusedInput:r,onFocusChange:function(t){c(t)},numberOfMonths:1,isOutsideRange:function(){return!1},showClearDates:!0})})}))),D=(n(328),Object(o.b)((function(t){return{auth:t.auth.authenticated}}),(function(t){return{onLogOut:function(){return t({type:"AUTH_LOGOUT"})}}}))((function(t){var e=function(){var e=Object(f.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),e.next=4,t.onLogOut();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),n=null;return t.auth||(n=Object(N.jsx)(d.a,{to:"/login"})),Object(N.jsxs)("section",{className:"maxWidth",children:[n,Object(N.jsxs)("div",{className:"header",children:[Object(N.jsx)("h1",{className:"titleHeader",children:" Task Manager"}),Object(N.jsx)("button",{onClick:e,className:"btn",children:"Log out"})]})]})}))),y=(n(329),n(14)),E=function(t){return{type:"ADD_NOTE",task:t}},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id;return{type:"REMOVE_NOTE",id:e}},w=n(7),_=n.n(w),C=(n(330),n(331),Object(o.b)((function(t){return{note:t.note}}))((function(t){console.log("existing",t.existingNote);var e=Object(a.useState)(t.existingNote?t.existingNote.note:""),n=Object(h.a)(e,2),r=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(h.a)(o,2),s=i[0],u=i[1],d=Object(a.useState)(t.existingNote?_()(t.existingNote.createdAt):_()()),l=Object(h.a)(d,2),j=l[0],b=l[1],O=Object(a.useState)(t.existingNote?t.existingNote.description:""),f=Object(h.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(""),m=Object(h.a)(v,2),g=m[0],S=m[1];return Object(N.jsxs)("div",{className:"contentContainer",children:[Object(N.jsxs)("h1",{className:"taskHeader",children:[" ",t.existingNote?"Edit Notes":"Add Notes"]}),Object(N.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),p?(S(""),t.onSubmit({note:r,description:p,createdAt:j.valueOf()})):S("Please provide description")},children:[g&&Object(N.jsx)("p",{className:"formError",children:g}),Object(N.jsx)("input",{className:"textInput",type:"text",placeholder:"Title",autoFocus:!0,value:r,onChange:function(t){var e=t.target.value;c(e)}}),Object(N.jsx)("textarea",{className:"description",placeholder:"Add a description for your note",value:p,onChange:function(t){var e=t.target.value;x(e)}}),Object(N.jsx)(T.SingleDatePicker,{date:j,onDateChange:function(t){j&&b(t)},focused:s,onFocusChange:function(t){var e=t.focused;u(e)}}),Object(N.jsx)("div",{children:Object(N.jsx)("button",{className:"addButton",children:t.existingNote?"Edit The Note":"Add a  Note"})})]})]})}))),U=function(t,e){var n=e.sortBy,a=e.startDate,r=e.endDate,c=_()(t.createdAt);return t.filter((function(t){var e=!a||a.isSameOrBefore(c,"day"),n=!r||r.isSameOrAfter(c,"day");return e&&n})).sort((function(t,e){return"date"===n?t.createdAt<e.createdAt?1:-1:"amount"===n?t.amount<e.amount?1:-1:void 0}))},I=(n(332),Object(o.b)(null,(function(t){return{setStartRemove:function(e){var n=e.id;return t(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id;return function(e){return j.ref("notes/".concat(t)).remove().then((function(){e(k({id:t}))}))}}({id:n}))}}}))((function(t){var e=t.setStartRemove,n=t.note,a=t.id,r=t.description,c=t.createdAt;return Object(N.jsxs)("div",{className:"taskContainer",children:[Object(N.jsx)("h3",{children:r}),Object(N.jsx)("h3",{children:n}),Object(N.jsx)("span",{children:_()(c).format("MMMM Do, YYYY")}),Object(N.jsxs)("div",{className:"buttonContainer",children:[Object(N.jsx)("button",{className:"removeButton",onClick:function(){e({id:a})},children:"Remove"}),Object(N.jsx)(i.b,{className:"editButton",to:"/edit/".concat(a),children:" Edit"})]})]})}))),R=(n(333),Object(o.b)((function(t){return{note:U(t.note,t.filter)}}))((function(t){return Object(N.jsxs)("div",{className:"contentContainer",children:[Object(N.jsx)("div",{className:"listHeader",children:"Notes"}),0===t.note.length?Object(N.jsx)("p",{children:"No notes"}):t.note.map((function(t){return Object(N.jsx)(I,Object(y.a)({},t),t.id)}))]})}))),L=Object(o.b)(null,(function(t){return{startAddNote:function(e){return t(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var n=t.description,a=void 0===n?"":n,r=t.note,c=void 0===r?"":r,o=t.createdAt,i={description:a,note:c,createdAt:void 0===o?"":o};j.ref("notes").push(i).then((function(t){e(E(Object(y.a)({id:t.key},i)))}))}}(e))}}}))((function(t){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(C,{onSubmit:function(e){t.startAddNote(e)}}),Object(N.jsx)(R,{})]})})),H=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(D,{}),Object(N.jsx)(A,{}),Object(N.jsx)(L,{})]})},P=Object(o.b)((function(t,e){return{note:t.note.find((function(t){return t.id===e.match.params.id}))}}))((function(t){return Object(N.jsx)("div",{children:Object(N.jsx)(C,{existingNote:t.note,onSubmit:function(e){var n,a;t.dispatch((n=t.note.id,a=e,function(t){return j.ref("notes/".concat(n)).update(a).then((function(){t(function(t,e){return{type:"EDIT_NOTE",id:t,updates:e}}(n,a))}))}))}})})})),M=n(175),V=Object(o.b)((function(t){return{isAuthenticated:null!==t.idToken}}))((function(t){var e=t.isAuthenticated,n=t.component,a=Object(M.a)(t,["isAuthenticated","component"]);return Object(N.jsx)(d.b,Object(y.a)(Object(y.a)({},a),{},{component:function(t){return e?Object(N.jsx)(n,Object(y.a)({},t)):Object(N.jsx)(d.a,{to:"/login"})}}))})),F=(n(334),function(){return Object(N.jsx)("div",{className:"Loader",children:"Loading..."})}),W=(n(335),Object(o.b)((function(t){return{auth:t.auth.authenticated,loading:t.auth.loading,error:t.auth.error}}),(function(t){return{onAuth:function(e,n){return t(m(e,n))}}}))((function(t){var e=Object(a.useState)(""),n=Object(h.a)(e,2),r=n[0],c=n[1],o=Object(a.useState)(""),s=Object(h.a)(o,2),u=s[0],l=s[1],j=Object(a.useState)(""),b=Object(h.a)(j,2),x=b[0],v=b[1],m=function(){var e=Object(f.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x!==u){e.next=10;break}return e.prev=1,n.preventDefault(),e.next=5,t.onAuth(r,u);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),g=null;return t.auth&&(g=Object(N.jsx)(d.a,{to:"/main"})),t.loading?Object(N.jsx)(F,{}):Object(N.jsxs)("section",{className:"wrapper",children:[g,Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)(p.a,{autoClose:2e3}),Object(N.jsxs)("div",{className:"registerForm",children:[Object(N.jsx)("span",{className:"title",children:"Register Page"}),Object(N.jsx)("input",{className:"input",onChange:function(t){return c(t.target.value)},value:r,type:"text",placeholder:"E-mail"}),Object(N.jsx)("input",{className:"input",onChange:function(t){return l(t.target.value)},value:u,type:"password",placeholder:"Password"}),Object(N.jsx)("input",{onChange:function(t){return v(t.target.value)},className:"input",type:"password",placeholder:"Confirm Password"}),Object(N.jsx)("button",{onClick:m,className:"btnR",children:"Sign Up"}),Object(N.jsx)(i.b,{className:"link",to:"/login",children:"Switch to Login"})]})]})]})})));var Z=function(){return Object(N.jsx)(i.a,{children:Object(N.jsxs)(d.d,{children:[Object(N.jsx)(d.a,{from:"/",to:"/register",exact:!0}),Object(N.jsx)(V,{path:"/main",component:H}),Object(N.jsx)(d.b,{path:"/login",component:S}),Object(N.jsx)(d.b,{path:"/register",component:W}),Object(N.jsx)(d.b,{path:"/edit/:id",component:P}),Object(N.jsx)(V,{path:"/task"})]})})},B=(n(336),{idToken:null,userId:null,error:null,loading:!1,authenticated:!1}),K=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"AUTH_SUCCESS":return Object(y.a)(Object(y.a)({},t),{},{idToken:e.idToken,userId:e.userId,error:null,loading:!1,authenticated:!0});case"AUTH_FAIL":return Object(y.a)(Object(y.a)({},t),{},{error:e.error,loading:!1,authenticated:!1});case"AUTH_START":return Object(y.a)(Object(y.a)({},t),{},{error:null,loading:!0});case"AUTH_LOGOUT":return Object(y.a)(Object(y.a)({},t),{},{idToken:null,userId:null,authenticated:!1});default:return t}},J=n(174),X=[],z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_NOTE":return[].concat(Object(J.a)(t),[e.task]);case"REMOVE_NOTE":return t.filter((function(t){return t.id!==e.id}));case"EDIT_NOTE":return t.map((function(t){return t.id===e.id?Object(y.a)(Object(y.a)({},t),e.updates):t}));case"SET_NOTES":return e.notes;default:return t}},G={startDate:_()().startOf("month"),endDate:_()().endOf("month")},Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,q=Object(s.e)(Object(s.c)({auth:K,note:z,filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_START_DATE":return Object(y.a)(Object(y.a)({},t),{},{startDate:e.startDate});case"SET_END_DATE":return Object(y.a)(Object(y.a)({},t),{},{endDate:e.endDate});default:return t}}}),Y(Object(s.a)(u.a)));o.a,i.a;q.dispatch((function(t){j.ref("notes").once("value").then((function(e){var n=[];e.forEach((function(t){n.push(Object(y.a)({id:t.key},t.val()))})),t(function(t){return{type:"SET_NOTES",notes:t}}(n))}))})),c.a.render(Object(N.jsx)(o.a,{store:q,children:Object(N.jsx)(i.a,{children:Object(N.jsx)(Z,{})})}),document.getElementById("root"))}},[[337,1,2]]]);
//# sourceMappingURL=main.fb6cbfdd.chunk.js.map